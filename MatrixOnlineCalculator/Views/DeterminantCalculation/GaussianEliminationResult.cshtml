@using Microsoft.AspNetCore.Mvc.Localization

@model DeterminantByGaussianElimination

@inject IOptions<MathFormatOptions> mathFormatOptions
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Вычисление определителя матрицы"];
    int precision = mathFormatOptions.Value.DecimalPrecision;
}

<h1>@Localizer["Вычисление определителя матрицы (метод Гаусса)"]</h1>
<p>
    <math>
        <mrow>
            <mo>|</mo>
            <math-matrix data="Model.GaussianElimination.Initial" />
            <mo>|</mo>
        </mrow>
        <mo>=</mo>
        <math-number value="Model.Determinant" precision="precision" />
    </math>
</p>

<p>@Localizer["Подробное решение:"]</p>
<ol>
    @await Html.PartialAsync("_GaussianElimination", Model.GaussianElimination)
    <li>
        <p>@Localizer["Вычислим значение определителя:"]</p>
        <p>
            <math>
                <mrow>
                    <mo>|</mo>
                    <math-matrix data="Model.GaussianElimination.Initial" />
                    <mo>|</mo>
                </mrow>
                <mo>=</mo>
                @for (int i = 0; i < Model.GaussianElimination.Initial.RowCount; i++)
                {
                    if (i > 0)
                    {
                        <mo>&sdot;</mo>
                    }
                    <math-number value="Model.GaussianElimination.Result[i, i]"
                                 precision="precision"
                                 use-brackets="true" />
                }
                <mo>=</mo>
                <math-number value="Model.Determinant" precision="precision" />
            </math>
        </p>
    </li>
</ol>

@section Scripts
{
    <partial name="_GlobalizationScripts" />
}