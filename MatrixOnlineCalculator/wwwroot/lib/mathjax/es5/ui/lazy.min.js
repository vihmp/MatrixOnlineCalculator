!function(){"use strict";var t,e,r={335:function(t,l,e){var a,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var a,n,o=r.call(t),i=[];try{for(;(void 0===e||0<e--)&&!(a=o.next()).done;)i.push(a.value)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},s=this&&this.__spreadArray||function(t,e){for(var r=0,a=e.length,n=t.length;r<a;r++,n++)t[n]=e[r];return t},y=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&a>=t.length?void 0:t)&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(l,"__esModule",{value:!0}),l.LazyHandler=l.LazyMathDocumentMixin=l.LazyMathItemMixin=l.LAZYID=l.LazyList=void 0;var u=e(769),n=e(239),h=(i.prototype.add=function(t){var e=String(this.id++);return this.items.set(e,t),e},i.prototype.get=function(t){return this.items.get(t)},i.prototype.delete=function(t){return this.items.delete(t)},i);function i(){this.id=0,this.items=new Map}function c(t){return r(e,n=t),e.prototype.compile=function(t){this.lazyCompile?this.state()<u.STATE.COMPILED&&(this.lazyTex="TeX"===this.inputJax.name,this.root=t.mmlFactory.create("math"),this.state(u.STATE.COMPILED)):n.prototype.compile.call(this,t)},e.prototype.typeset=function(t){var e,r,a;this.lazyTypeset?this.state()<u.STATE.TYPESET&&(r=t.adaptor,this.lazyMarker||(a=t.lazyList.add(this),this.lazyMarker=r.node("mjx-lazy",((e={})[l.LAZYID]=a,e)),this.typesetRoot=r.node("mjx-container",{},[this.lazyMarker])),this.state(u.STATE.TYPESET)):n.prototype.typeset.call(this,t)},e.prototype.updateDocument=function(t){n.prototype.updateDocument.call(this,t),this.lazyTypeset&&t.lazyObserver.observe(this.lazyMarker)},e.prototype.state=function(t,e){return void 0===t&&(t=void 0),null===(e=void 0===e?!1:e)?this._state:n.prototype.state.call(this,t,e)},e;function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.apply(this,s([],o(t)))||this;return r.lazyCompile=!0,r.lazyTypeset=!0,r.lazyTex=!1,r.end.node||(r.lazyCompile=r.lazyTypeset=!1),r}var n}function p(t){return r(e,i=t),e.prototype.lazyObserve=function(t){var e,r;try{for(var a=y(t),n=a.next();!n.done;n=a.next()){var o=n.value,i=this.adaptor.getAttribute(o.target,l.LAZYID);this.lazyList.get(i)&&(o.isIntersecting?(this.lazySet.add(i),this.lazyIdle||(this.lazyIdle=!0,this.lazyProcessSet())):this.lazySet.delete(i))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}},e.prototype.lazyHandleSet=function(){var e=this,r=this.lazySet;this.lazySet=new Set,this.lazyPromise=this.lazyPromise.then(function(){var t=e.compileEarlierItems(r)?u.STATE.COMPILED:u.STATE.TYPESET,t=e.resetStates(r,t);return e.state(t-1,null),n.handleRetriesFor(function(){e.render(),e.lazyIdle=!1})})},e.prototype.resetStates=function(t,e){var r,a;try{for(var n=y(t.values()),o=n.next();!o.done;o=n.next()){var i=o.value,l=this.lazyList.get(i);l.lazyCompile?(l.state(u.STATE.COMPILED-1),e=u.STATE.COMPILED):l.state(u.STATE.TYPESET-1),l.lazyCompile=l.lazyTypeset=!1,l.lazyMarker&&this.lazyObserver.unobserve(l.lazyMarker)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}return e},e.prototype.compileEarlierItems=function(t){var e,r,a=this.earliestTex(t);if(!a)return!1;var n=!1;try{for(var o=y(this.math),i=o.next();!i.done;i=o.next()){var l=i.value;if(l===a||null==l||!l.lazyCompile)break;l.lazyCompile=!1,l.lazyMarker&&this.lazyObserver.unobserve(l.lazyMarker),l.state(u.STATE.COMPILED-1),n=!0}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},e.prototype.earliestTex=function(t){var e,r,a=null,n=null;try{for(var o=y(t.values()),i=o.next();!i.done;i=o.next()){var l=i.value,s=this.lazyList.get(l);s.lazyTex&&(null===a||parseInt(l)<a)&&(a=parseInt(l),n=s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},e.prototype.clearMathItemsWithin=function(t){var e,r,t=i.prototype.clearMathItemsWithin.call(this,t);try{for(var a=y(t),n=a.next();!n.done;n=a.next()){var o=n.value.lazyMarker;o&&(this.lazyObserver.unobserve(o),this.lazyList.delete(this.adaptor.getAttribute(o,l.LAZYID)))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return t},e;function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.apply(this,s([],o(t)))||this;r.lazyPromise=Promise.resolve(),r.lazyIdle=!1,r.lazySet=new Set,r.options.MathItem=c(r.options.MathItem),r.lazyObserver=new IntersectionObserver(r.lazyObserve.bind(r)),r.lazyList=new h;var a=r.lazyHandleSet.bind(r);return r.lazyProcessSet="undefined"!=typeof window&&window.requestIdleCallback?function(){return window.requestIdleCallback(a)}:function(){return setTimeout(a,10)},r}var i}l.LazyList=h,l.LAZYID="data-mjx-lazy",l.LazyMathItemMixin=c,l.LazyMathDocumentMixin=p,l.LazyHandler=function(t){return"undefined"!=typeof IntersectionObserver&&(t.documentClass=p(t.documentClass)),t}},723:function(t,e){MathJax._.components.global.isObject,MathJax._.components.global.combineConfig,MathJax._.components.global.combineDefaults,e.r8=MathJax._.components.global.combineWithMathJax,MathJax._.components.global.MathJax},769:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.protoItem=MathJax._.core.MathItem.protoItem,e.AbstractMathItem=MathJax._.core.MathItem.AbstractMathItem,e.STATE=MathJax._.core.MathItem.STATE,e.newState=MathJax._.core.MathItem.newState},239:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.handleRetriesFor=MathJax._.util.Retries.handleRetriesFor,e.retryAfter=MathJax._.util.Retries.retryAfter}},a={};function n(t){var e=a[t];if(void 0!==e)return e.exports;e=a[t]={exports:{}};return r[t].call(e.exports,e,e.exports,n),e.exports}t=n(723),e=n(335),(0,t.r8)({_:{ui:{lazy:{LazyHandler:e}}}}),MathJax.startup&&MathJax.startup.extendHandler(function(t){return(0,e.LazyHandler)(t)})}();