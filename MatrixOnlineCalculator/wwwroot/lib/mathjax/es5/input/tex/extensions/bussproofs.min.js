!function(){"use strict";var e,t,r,o,n,a={333:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BussproofsConfiguration=void 0;var o=r(251),n=r(854),a=r(378);r(116),t.BussproofsConfiguration=o.Configuration.create("bussproofs",{handler:{macro:["Bussproofs-macros"],environment:["Bussproofs-environments"]},items:((o={})[n.ProofTreeItem.prototype.kind]=n.ProofTreeItem,o),preprocessors:[[a.saveDocument,1]],postprocessors:[[a.clearDocument,3],[a.makeBsprAttributes,2],[a.balanceRules,1]]})},854:function(e,t,r){var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ProofTreeItem=void 0;var a,i=r(402),l=r(76),f=r(935),u=r(378),n=(a=l.BaseItem,n(d,a),Object.defineProperty(d.prototype,"kind",{get:function(){return"proofTree"},enumerable:!1,configurable:!0}),d.prototype.checkItem=function(e){if(e.isKind("end")&&"prooftree"===e.getName()){var t=this.toMml();return u.setProperty(t,"proof",!0),[[this.factory.create("mml",t),e],!0]}if(e.isKind("stop"))throw new i.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(e),l.BaseItem.fail},d.prototype.toMml=function(){var e=a.prototype.toMml.call(this),t=this.innerStack.Top();if(t.isKind("start")&&!t.Size())return e;this.innerStack.Push(this.factory.create("stop"));t=this.innerStack.Top().toMml();return this.create("node","mrow",[t,e],{})},d);function d(){var e=null!==a&&a.apply(this,arguments)||this;return e.leftLabel=null,e.rigthLabel=null,e.innerStack=new f.default(e.factory,{},!0),e}t.ProofTreeItem=n},116:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=r(827),t=r(945),r=r(871);new r.CommandMap("Bussproofs-macros",{AxiomC:"Axiom",UnaryInfC:["Inference",1],BinaryInfC:["Inference",2],TrinaryInfC:["Inference",3],QuaternaryInfC:["Inference",4],QuinaryInfC:["Inference",5],RightLabel:["Label","right"],LeftLabel:["Label","left"],AXC:"Axiom",UIC:["Inference",1],BIC:["Inference",2],TIC:["Inference",3],RL:["Label","right"],LL:["Label","left"],noLine:["SetLine","none",!1],singleLine:["SetLine","solid",!1],solidLine:["SetLine","solid",!1],dashedLine:["SetLine","dashed",!1],alwaysNoLine:["SetLine","none",!0],alwaysSingleLine:["SetLine","solid",!0],alwaysSolidLine:["SetLine","solid",!0],alwaysDashedLine:["SetLine","dashed",!0],rootAtTop:["RootAtTop",!0],alwaysRootAtTop:["RootAtTop",!0],rootAtBottom:["RootAtTop",!1],alwaysRootAtBottom:["RootAtTop",!1],fCenter:"FCenter",Axiom:"AxiomF",UnaryInf:["InferenceF",1],BinaryInf:["InferenceF",2],TrinaryInf:["InferenceF",3],QuaternaryInf:["InferenceF",4],QuinaryInf:["InferenceF",5]},o.default),new r.EnvironmentMap("Bussproofs-environments",t.default.environment,{prooftree:["Prooftree",null,!1]},o.default)},827:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},a=this&&this.__spreadArray||function(e,t){for(var r=0,o=t.length,n=e.length;r<o;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r(402),i=r(193),l=r(398),s=r(378),r={Prooftree:function(e,t){return e.Push(t),e.itemFactory.create("proofTree").setProperties({name:t.getName(),line:"solid",currentLine:"solid",rootAtTop:!1})},Axiom:function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");t=d(e,e.GetArgument(t));s.setProperty(t,"axiom",!0),r.Push(t)}},d=function(e,t){var r=l.default.internalMath(e,l.default.trimSpaces(t),0);if(!r[0].childNodes[0].childNodes.length)return e.create("node","mrow",[]);var o=e.create("node","mspace",[],{width:".5ex"}),t=e.create("node","mspace",[],{width:".5ex"});return e.create("node","mrow",a(a([o],n(r)),[t]))};function c(e,t,r,o,n,a,i){var l,f,u,d,t=e.create("node","mtr",[e.create("node","mtd",[t],{})],{}),r=e.create("node","mtr",[e.create("node","mtd",r,{})],{}),a=e.create("node","mtable",i?[r,t]:[t,r],{align:"top 2",rowlines:a,framespacing:"0 0"});if(s.setProperty(a,"inferenceRule",i?"up":"down"),o&&(l=e.create("node","mpadded",[o],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),s.setProperty(l,"prooflabel","left")),n&&(f=e.create("node","mpadded",[n],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),s.setProperty(f,"prooflabel","right")),o&&n)u=[l,a,f],d="both";else if(o)u=[l,a],d="left";else{if(!n)return a;u=[a,f],d="right"}return a=e.create("node","mrow",u),s.setProperty(a,"labelledRule",d),a}function p(e,t){if("$"!==e.GetNext())throw new u.default("IllegalUseOfCommand","Use of %1 does not match it's definition.",t);e.i++;var r=e.GetUpTo(t,"$");if(-1===r.indexOf("\\fCenter"))throw new u.default("IllegalUseOfCommand","Missing \\fCenter in %1.",t);var o=n(r.split("\\fCenter"),2),t=o[0],r=o[1],o=new i.default(t,e.stack.env,e.configuration).mml(),t=new i.default(r,e.stack.env,e.configuration).mml(),r=new i.default("\\fCenter",e.stack.env,e.configuration).mml(),o=e.create("node","mtd",[o],{}),r=e.create("node","mtd",[r],{}),t=e.create("node","mtd",[t],{}),r=e.create("node","mtr",[o,r,t],{}),t=e.create("node","mtable",[r],{columnspacing:".5ex",columnalign:"center 2"});return s.setProperty(t,"sequent",!0),e.configuration.addNode("sequent",r),t}r.Inference=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(o.Size()<r)throw new u.default("BadProofTree","Proof tree badly specified.");for(var n=o.getProperty("rootAtTop"),a=1!==r||o.Peek()[0].childNodes.length?r:0,i=[];i.length&&i.unshift(e.create("node","mtd",[],{})),i.unshift(e.create("node","mtd",[o.Pop()],{rowalign:n?"top":"bottom"})),0<--r;);var l=e.create("node","mtr",i,{}),f=e.create("node","mtable",[l],{framespacing:"0 0"}),l=d(e,e.GetArgument(t)),t=o.getProperty("currentLine");t!==o.getProperty("line")&&o.setProperty("currentLine",o.getProperty("line"));t=c(e,f,[l],o.getProperty("left"),o.getProperty("right"),t,n);o.setProperty("left",null),o.setProperty("right",null),s.setProperty(t,"inference",a),e.configuration.addNode("inference",t),o.Push(t)},r.Label=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");t=l.default.internalMath(e,e.GetArgument(t),0),t=1<t.length?e.create("node","mrow",t,{}):t[0];o.setProperty(r,t)},r.SetLine=function(e,t,r,o){e=e.stack.Top();if("proofTree"!==e.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");e.setProperty("currentLine",r),o&&e.setProperty("line",r)},r.RootAtTop=function(e,t,r){e=e.stack.Top();if("proofTree"!==e.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");e.setProperty("rootAtTop",r)},r.AxiomF=function(e,t){var r=e.stack.Top();if("proofTree"!==r.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");t=p(e,t);s.setProperty(t,"axiom",!0),r.Push(t)},r.FCenter=function(e,t){},r.InferenceF=function(e,t,r){var o=e.stack.Top();if("proofTree"!==o.kind)throw new u.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(o.Size()<r)throw new u.default("BadProofTree","Proof tree badly specified.");for(var n=o.getProperty("rootAtTop"),a=1!==r||o.Peek()[0].childNodes.length?r:0,i=[];i.length&&i.unshift(e.create("node","mtd",[],{})),i.unshift(e.create("node","mtd",[o.Pop()],{rowalign:n?"top":"bottom"})),0<--r;);var l=e.create("node","mtr",i,{}),f=e.create("node","mtable",[l],{framespacing:"0 0"}),l=p(e,t),t=o.getProperty("currentLine");t!==o.getProperty("line")&&o.setProperty("currentLine",o.getProperty("line"));t=c(e,f,[l],o.getProperty("left"),o.getProperty("right"),t,n);o.setProperty("left",null),o.setProperty("right",null),s.setProperty(t,"inference",a),e.configuration.addNode("inference",t),o.Push(t)},t.default=r},378:function(e,w,t){var _=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,a=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)i.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},C=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(w,"__esModule",{value:!0}),w.clearDocument=w.saveDocument=w.makeBsprAttributes=w.removeProperty=w.getProperty=w.setProperty=w.balanceRules=void 0;function i(e){return R.root=e,r.outputJax.getBBox(R,r).w}function T(e){for(var t=0;e&&!O.default.isType(e,"mtable");){if(O.default.isType(e,"text"))return null;O.default.isType(e,"mrow")?(e=e.childNodes[0],t=0):(e=e.parent.childNodes[t],t++)}return e}function I(e,t){return e.childNodes["up"===t?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]}function N(e,t){return e.childNodes[t].childNodes[0].childNodes[0]}function A(e){return N(e,0)}function S(e,t){return e.childNodes["up"===t?0:1].childNodes[0].childNodes[0].childNodes[0]}function L(e){for(;e&&null==w.getProperty(e,"inference");)e=e.parent;return e}function k(e,t,r){void 0===r&&(r=!1);var o,n,a=0;return e===t?a:(e!==t.parent&&(o=e.childNodes,n=r?o.length-1:0,O.default.isType(o[n],"mspace")&&(a+=i(o[n])),e=t.parent),e===t||(e=e.childNodes,r=r?e.length-1:0,e[r]!==t&&(a+=i(e[r]))),a)}function j(e,t){void 0===t&&(t=!1);var r=T(e),o=S(r,w.getProperty(r,"inferenceRule"));return k(e,r,t)+(i(r)-i(o))/2}function B(e,t,r,o){void 0===o&&(o=!1),(w.getProperty(t,"inferenceRule")||w.getProperty(t,"labelledRule"))&&(n=e.nodeFactory.create("node","mrow"),t.parent.replaceChild(n,t),n.setChildren([t]),a(t,n),t=n);var n=o?t.childNodes.length-1:0,n=t.childNodes[n];O.default.isType(n,"mspace")?O.default.setAttribute(n,"width",l.default.Em(l.default.dimen2em(O.default.getAttribute(n,"width"))+r)):(n=e.nodeFactory.create("node","mspace",[],{width:l.default.Em(r)}),o?t.appendChild(n):(n.parent=t).childNodes.unshift(n))}function J(e,t,r,o,n){var a=e.nodeFactory.create("node","mspace",[],{width:l.default.Em(n)});"left"===o?(e=t.childNodes[r].childNodes[0],(a.parent=e).childNodes.unshift(a)):t.childNodes[r].appendChild(a),w.setProperty(t.parent,"sequentAdjust_"+o,n)}var O=t(748),l=t(398),r=null,R=null,a=function(r,o){["inference","proof","maxAdjust","labelledRule"].forEach(function(e){var t=w.getProperty(r,e);null!=t&&(w.setProperty(o,e,t),w.removeProperty(r,e))})},E=function(e,t){var r=i(e.childNodes[2]),o=i(t.childNodes[2]);return[i(e.childNodes[0])-i(t.childNodes[0]),r-o]};w.balanceRules=function(e){var t,r;R=new e.document.options.MathItem("",null,e.math.display);var o=e.data;!function(e){var t=e.nodeLists.sequent;if(t)for(var r=t.length-1,o=void 0;o=t[r];r--)if(w.getProperty(o,"sequentProcessed"))w.removeProperty(o,"sequentProcessed");else{var n=[],a=L(o);if(1===w.getProperty(a,"inference")){for(n.push(o);1===w.getProperty(a,"inference");){var a=T(a),i=A(I(a,w.getProperty(a,"inferenceRule"))),l=w.getProperty(i,"inferenceRule")?S(i,w.getProperty(i,"inferenceRule")):i;w.getProperty(l,"sequent")&&(o=l.childNodes[0],n.push(o),w.setProperty(o,"sequentProcessed",!0)),a=i}!function(e,t){for(var r=t.pop();t.length;){var o=t.pop(),n=_(E(r,o),2),a=n[0],n=n[1];w.getProperty(r.parent,"axiom")&&(J(e,a<0?r:o,0,"left",Math.abs(a)),J(e,n<0?r:o,2,"right",Math.abs(n))),r=o}}(e,n)}}}(o);var n,a=o.nodeLists.inference||[];try{for(var i=C(a),l=i.next();!l.done;l=i.next()){var f,u,d=l.value,s=w.getProperty(d,"proof"),c=T(d),p=I(c,w.getProperty(c,"inferenceRule")),m=A(p);!w.getProperty(m,"inference")||(f=j(m))&&(B(o,m,-f),u=k(d,c,!1),B(o,d,f-u));var h,y,P,g,v,x,b,M=N(p,p.childNodes.length-1);null!=w.getProperty(M,"inference")&&(h=j(M,!0),B(o,M,-h,!0),y=k(d,c,!0),null!=(P=w.getProperty(d,"maxAdjust"))&&(h=Math.max(h,P)),g=void 0,!s&&(g=function(e){for(;e&&!O.default.isType(e,"mtd");)e=e.parent;return e}(d))?(v=(n=g).parent.childNodes[n.parent.childNodes.indexOf(n)+1])?(x=o.nodeFactory.create("node","mspace",[],{width:h-y+"em"}),v.appendChild(x),d.removeProperty("maxAdjust")):(b=L(g))&&(h=w.getProperty(b,"maxAdjust")?Math.max(w.getProperty(b,"maxAdjust"),h):h,w.setProperty(b,"maxAdjust",h)):B(o,w.getProperty(d,"proof")?d:d.parent,h-y,!0))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}};var o="bspr_",n=((t={}).bspr_maxAdjust=!0,t);w.setProperty=function(e,t,r){O.default.setProperty(e,o+t,r)},w.getProperty=function(e,t){return O.default.getProperty(e,o+t)},w.removeProperty=function(e,t){e.removeProperty(o+t)},w.makeBsprAttributes=function(e){e.data.root.walkTree(function(t,e){var r=[];t.getPropertyNames().forEach(function(e){!n[e]&&e.match(RegExp("^bspr_"))&&r.push(e+":"+t.getProperty(e))}),r.length&&O.default.setAttribute(t,"semantics",r.join(";"))})},w.saveDocument=function(e){if(!("getBBox"in(r=e.document).outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")},w.clearDocument=function(e){r=null}},955:function(e,t){MathJax._.components.global.isObject,MathJax._.components.global.combineConfig,MathJax._.components.global.combineDefaults,t.r8=MathJax._.components.global.combineWithMathJax,MathJax._.components.global.MathJax},251:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=MathJax._.input.tex.Configuration.Configuration,t.ConfigurationHandler=MathJax._.input.tex.Configuration.ConfigurationHandler,t.ParserConfiguration=MathJax._.input.tex.Configuration.ParserConfiguration},748:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.NodeUtil.default},945:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.ParseMethods.default},398:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.ParseUtil.default},935:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.Stack.default},76:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MmlStack=MathJax._.input.tex.StackItem.MmlStack,t.BaseItem=MathJax._.input.tex.StackItem.BaseItem},871:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractSymbolMap=MathJax._.input.tex.SymbolMap.AbstractSymbolMap,t.RegExpMap=MathJax._.input.tex.SymbolMap.RegExpMap,t.AbstractParseMap=MathJax._.input.tex.SymbolMap.AbstractParseMap,t.CharacterMap=MathJax._.input.tex.SymbolMap.CharacterMap,t.DelimiterMap=MathJax._.input.tex.SymbolMap.DelimiterMap,t.MacroMap=MathJax._.input.tex.SymbolMap.MacroMap,t.CommandMap=MathJax._.input.tex.SymbolMap.CommandMap,t.EnvironmentMap=MathJax._.input.tex.SymbolMap.EnvironmentMap},402:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.TexError.default},193:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=MathJax._.input.tex.TexParser.default}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;t=i[e]={exports:{}};return a[e].call(t.exports,t,t.exports,l),t.exports}e=l(955),t=l(333),r=l(854),o=l(827),n=l(378),(0,e.r8)({_:{input:{tex:{bussproofs:{BussproofsConfiguration:t,BussproofsItems:r,BussproofsMethods:o,BussproofsUtil:n}}}}})}();